# ===========================================
# CONFIGURAÇÕES DE PRODUÇÃO - VPS UBUNTU
# ===========================================

# Ambiente
APP_ENV=production

# Bot Gerenciador - IMPORTANTE: Substitua com seu token real
MANAGER_BOT_TOKEN=SEU_TOKEN_DO_BOT_AQUI
TELEGRAM_WEBHOOK_SECRET=GERE_UM_SECRET_ALEATORIO_AQUI
# Altere para o IP ou domínio da sua VPS
WEBHOOK_BASE_URL=https://SEU_DOMINIO_OU_IP:443

# Database & Queue (configurado para Docker)
DB_URL=postgresql+psycopg://admin:MUDE_ESTA_SENHA_FORTE@postgres:5432/telegram_bots
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Security - MUITO IMPORTANTE: Gere uma chave nova
# Para gerar: python scripts/generate_key.py
ENCRYPTION_KEY=base64:COLE_AQUI_A_CHAVE_GERADA
# IDs do Telegram dos administradores (separe por vírgula)
ALLOWED_ADMIN_IDS=SEU_ID_TELEGRAM,OUTRO_ID_SE_HOUVER

# xAI Grok API (para funcionalidades de IA)
XAI_API_KEY=SEU_TOKEN_XAI_AQUI
GROK_API_BASE_URL=https://api.x.ai/v1
GROK_TIMEOUT=3600
GROK_MAX_CONCURRENT_REQUESTS=50

# Monitoring
LOG_LEVEL=WARNING
# Opcional: Configure Sentry para monitoramento de erros
SENTRY_DSN=

# Rate Limits (configuração de produção)
RATE_LIMITS_JSON={"cmd:/start":{"limit":30,"window":60},"cb:action":{"limit":20,"window":30}}

# Connection Pools (otimizado para produção)
REDIS_MAX_CONNECTIONS=200
REDIS_HOST=redis
REDIS_PORT=6379
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=100

# Circuit Breaker (APIs externas)
CIRCUIT_BREAKER_FAIL_MAX=5
CIRCUIT_BREAKER_TIMEOUT=60

# Workers Configuration (produção)
CELERY_WORKERS=5
CELERY_CONCURRENCY=10
CELERY_MAX_TASKS_PER_CHILD=1000

# Performance
UVICORN_WORKERS=4
UVICORN_WORKER_CLASS=uvloop
